<!DOCTYPE html>
<html lang="ar">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>نون - إتمام الطلب</title>
  <link href="bootstrap-5.3.3-dist/css/bootstrap.rtl.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />

  <!-- أنماط خاصة بصفحة إتمام الطلب -->
  <style>
    .check-icon-container {
      width: 40px;
      height: 40px;
    }

    .cart-container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
    }

    .order-summary {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
    }

    .checkout-btn {
      background-color: var(--bs-primary);
      color: white;
      border: none;
      width: 100%;
    }

    .checkout-btn:hover {
      background-color: #0d6efd;
      color: white;
    }
  </style>
</head>

<body class="bg-light-subtle">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top">
    <div class="container">
      <!-- اليمين: الحساب والعربة -->
      <div class="d-flex align-items-center">
        <a class="btn position-relative p-2 d-flex align-items-center text-white me-3" href="./cart.html">
          <span class="ms-2">العربة</span>
          <i class="bi bi-cart3 text-white" style="font-size: 1.5rem"></i>
          <span id="cart-count" class="cart-badge" style="display: none; color: aquamarine"></span>
        </a>

        <a class="btn position-relative p-2 d-flex align-items-center text-white" href="./profile.html">
          <span class="ms-2">حسابي</span>
          <i class="bi bi-person text-white" style="font-size: 1.5rem"></i>
        </a>
      </div>

      <!-- زر الموبايل -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- شريط البحث -->
      <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
        <form class="d-flex position-relative flex-grow-1 mx-3" dir="rtl">
          <div class="input-group border overflow-hidden w-100" style="border-radius: 8px; max-width: 700px">
            <button class="btn bg-white border-0 px-3" type="submit">
              <i class="bi bi-search text-muted" style="font-size: 1.2rem"></i>
            </button>
            <input class="form-control border-0 shadow-none text-end px-3" type="search"
              placeholder="ابحث هنا عن كل شيء لمنزلك" aria-label="Search" />
          </div>
        </form>
      </div>

      <!-- اليسار: الروابط واللوجو -->
      <div class="d-flex align-items-center">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="./Contact.html">تواصل معنا</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./Categories.html">الأقسام</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="./Home.html">الرئيسية</a>
          </li>
        </ul>

        <!-- اللوجو -->
        <a class="navbar-brand ms-3" href="./Home.html">
          <img src="https://homzmart.sa/_next/static/media/BrandLogoAr.ed1ce8d1.svg" alt="logo" width="120" height="40"
            class="d-inline-block align-text-top" />
        </a>
      </div>
    </div>
  </nav>

  <!-- مراحل إتمام الطلب -->
  <section class="container-sm my-5">
    <div id="homeCarousel" class="carousel slide" dir="rtl">
      <div class="carousel-inner">
        <!-- مرحلة عربة التسوق -->
        <div class="carousel-item active">
          <div class="container cart-container">
            <h4 class="mb-4">عربة التسوق</h4>
            <div class="row">
              <div class="col-md-8" id="cart-elem">
                <!-- سيتم إضافة المنتجات هنا عن طريق JavaScript -->
              </div>
              <div class="col-md-4">
                <div class="order-summary">
                  <h5 class="mb-3">ملخص الطلب</h5>
                  <div class="d-flex justify-content-between mb-2">
                    <span>المجموع الفرعي</span>
                    <span>179.98 ريال</span>
                  </div>
                  <div class="d-flex justify-content-between mb-2">
                    <span>الشحن</span>
                    <span>10.00 ريال</span>
                  </div>
                  <hr>
                  <div class="d-flex justify-content-between fw-bold">
                    <span>الإجمالي</span>
                    <span>189.98 ريال</span>
                  </div>
                  <button class="btn checkout-btn mt-3" data-bs-target="#homeCarousel" data-bs-slide="next">
                    متابعة الدفع
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- مرحلة معلومات التوصيل -->
        <div class="carousel-item">
          <form class="needs-validation" novalidate>
            <div class="row mb-3">
              <div class="col">
                <label for="firstName" class="form-label">الاسم الأول</label>
                <input type="text" class="form-control" id="firstName" required>
                <div class="invalid-feedback">يرجى إدخال الاسم الأول</div>
              </div>
              <div class="col">
                <label for="lastName" class="form-label">اسم العائلة</label>
                <input type="text" class="form-control" id="lastName" required>
                <div class="invalid-feedback">يرجى إدخال اسم العائلة</div>
              </div>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">البريد الإلكتروني</label>
              <input type="email" class="form-control" id="email" required>
              <div class="invalid-feedback">يرجى إدخال بريد إلكتروني صحيح</div>
            </div>

            <div class="mb-3">
              <label for="streetAddress" class="form-label">عنوان الشارع</label>
              <input type="text" class="form-control" id="streetAddress" required>
              <div class="invalid-feedback">يرجى إدخال عنوان الشارع</div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <label for="city" class="form-label">المدينة</label>
                <input type="text" class="form-control" id="city" required>
                <div class="invalid-feedback">يرجى إدخال المدينة</div>
              </div>
              <div class="col">
                <label for="postalCode" class="form-label">الرمز البريدي</label>
                <input type="text" class="form-control" id="postalCode" required>
                <div class="invalid-feedback">يرجى إدخال الرمز البريدي</div>
              </div>
            </div>

            <div class="d-flex justify-content-between">
              <button type="button" class="btn btn-secondary" data-bs-target="#homeCarousel" data-bs-slide="prev">
                العودة إلى السلة
              </button>
              <button type="button" class="btn btn-primary" data-bs-target="#homeCarousel" data-bs-slide="next">
                المتابعة إلى الدفع
              </button>
            </div>
          </form>
        </div>

        <!-- مرحلة معلومات الدفع -->
        <div class="carousel-item">
          <form class="needs-validation" novalidate>
            <div class="mb-3">
              <label for="cardName" class="form-label">الاسم على البطاقة</label>
              <input type="text" class="form-control" id="cardName" required>
              <div class="invalid-feedback">يرجى إدخال الاسم كما هو على البطاقة</div>
            </div>

            <div class="mb-3">
              <label for="cardNumber" class="form-label">رقم البطاقة</label>
              <input type="text" class="form-control" id="cardNumber" pattern="[0-9]{16}" required>
              <div class="invalid-feedback">يرجى إدخال رقم بطاقة صحيح</div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <label for="expiryDate" class="form-label">تاريخ الانتهاء</label>
                <input type="text" class="form-control" id="expiryDate" pattern="(0[1-9]|1[0-2])\/([0-9]{2})"
                  placeholder="MM/YY" required>
                <div class="invalid-feedback">يرجى إدخال تاريخ صحيح</div>
              </div>
              <div class="col">
                <label for="cvv" class="form-label">رمز CVV</label>
                <input type="text" class="form-control" id="cvv" pattern="[0-9]{3,4}" required>
                <div class="invalid-feedback">يرجى إدخال رمز CVV صحيح</div>
              </div>
            </div>

            <div class="d-flex justify-content-between">
              <button type="button" class="btn btn-secondary" data-bs-target="#homeCarousel" data-bs-slide="prev">
                رجوع
              </button>
              <button type="submit" class="btn btn-primary">
                إتمام الطلب
              </button>
            </div>
          </form>
        </div>

        <!-- مرحلة تأكيد الطلب -->
        <div class="carousel-item text-center">
          <div class="d-flex justify-content-center">
            <div
              class="bg-success text-white rounded-circle check-icon-container d-flex justify-content-center align-items-center">
              <i class="bi bi-check fs-2"></i>
            </div>
          </div>
          <h2 class="mt-3 fw-bold">تم تأكيد الطلب!</h2>
          <p>شكراً لك على الطلب. سيتم إرسال تأكيد إلى بريدك الإلكتروني.</p>
          <p><strong>رقم الطلب: #GQ29DKJW6</strong></p>
          <a href="./Home.html" class="btn btn-primary">
            <i class="bi bi-cart"></i> متابعة التسوق
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- المكتبات والسكربتات -->
  <script src="./bootstrap-5.3.3-dist/js/jquery-3.7.1.min.js"></script>
  <script src="./bootstrap-5.3.3-dist/js/bootstrap.js"></script>
  <script src="cart.js"></script>
  <script src="script.js"></script>

  <!-- التحقق من النماذج -->
  <script>
    (() => {
      'use strict';
      const forms = document.querySelectorAll('.needs-validation');
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    })();
  </script>
</body>

</html>